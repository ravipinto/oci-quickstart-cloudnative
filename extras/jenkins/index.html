<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <title>Jenkins :: MuShop</title>
  
  <meta name="application-name" content="MuShop"/>
<meta name="description" content="Oracle Cloud Native Workshop">
<meta name="keywords" content="Kubernetes,OCI,OKE,Microservices">

<meta property="og:title" content="MuShop - Jenkins" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/extras/jenkins/" />
    <link rel="apple-touch-icon" sizes="180x180" href="../../icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../icons/favicon-16x16.png">
  <link rel="manifest" href="../../icons/site.webmanifest">
  <link rel="mask-icon" href="../../icons/safari-pinned-tab.svg" color="#41727e">
  <meta name="msapplication-TileColor" content="#c74634">
  <meta name="theme-color" content="#fcfbfa">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" type="text/css" href="../../sass/main.min.579b1ef900caab9f4034f2fab782c459ab9ddb6c2dd914fed6155812ffd82484.css" integrity="sha256-V5se&#43;QDKq59ANPL6t4LEWaud22wt2RT&#43;1hVYEv/YJIQ=">
  <link rel="stylesheet" type="text/css" href="../../fonts/fonts.min.58744946497c59fa8a6ac77636ea480457079e54512cf3dcb552592b56503cc1.css" integrity="sha256-WHRJRkl8WfqKasd2NupIBFcHnlRRLPPctVJZK1ZQPME=">
  <link rel="stylesheet" type="text/css" href="../../sass/mushop.min.c31ca585e7b3a90dfeb2fd0ac2d7d93ff0af82ea19b0cab20c8539d987761606.css" integrity="sha256-wxylheezqQ3&#43;sv0KwtfZP/CvguoZsMqyDIU52Yd2FgY=">
</head>

  <body class="" data-url="../../extras/jenkins/">
    
<div class="uk-navbar-container uk-hidden@s">
  <div class="">
    <nav role="navigation" class="uk-light uk-navbar" uk-navbar>
      <div class="uk-navbar-left">
        <a href="../../index.html" class="uk-navbar-item uk-logo">
          <img
            alt="MuShop"
            class="uk-width-small"
            src="../../images/logo.dark.png">
        </a>
      </div>
      <div class="uk-navbar-right">
        <a class="uk-navbar-toggle" uk-navbar-toggle-icon uk-toggle="target: #navigation"></a>
      </div>
    </nav>
  </div>
</div>


<div class="uk-grid">
  
  
  <aside
    id="navigation"
    class="rw-sidebar uk-offcanvas uk-width-1-1 uk-width-1-3@s uk-width-1-4@m uk-width-1-5@l uk-width-1-6@xl uk-light uk-padding-remove"
    uk-offcanvas="overlay: true;">
    <div class="uk-offcanvas-bar uk-padding-small">
      
      
      <section>
        <div class="uk-margin-bottom uk-visible@s">
          <a href="../../index.html" class="uk-logo">
            <img src="../../images/logo.dark.png" alt="MuShop">
          </a>
        </div>
        <div class="uk-margin-bottom">
          <form class="uk-search uk-search-default uk-width-expand">
  <span class="uk-search-icon-flip" uk-search-icon></span>
  <input id="search" class="uk-search-input uk-width-expand" type="search" placeholder="Search...">
</form>
<div id="search-results" class="uk-background-primary uk-text-small"></div>
        </div>
        <ul class="uk-nav uk-nav-primary" uk-nav="multiple: true; toggle: > a .uk-icon">
          <li class="uk-nav-divider"></li>
          
            


  
  
  
  <li data-nav-id="/introduction/" title="Introduction" class="">
    <a href="../../introduction/">
      <div class="uk-flex uk-flex-between uk-flex-middle">
        <div class="uk-text-truncate">Introduction</div>
      </div>
    </a>
    
    
  </li>
  

 

          
            


  
  
  
  <li data-nav-id="/quickstart/" title="Getting Started" class=" uk-parent">
    <a href="../../quickstart/">
      <div class="uk-flex uk-flex-between uk-flex-middle">
        <div class="uk-text-truncate">Getting Started</div><span class="uk-flex-none" uk-icon="icon: triangle-right; ratio: 1.5"></span>
      </div>
    </a>
    
    
    <ul class="uk-nav-sub">
      
      
      
      
      
        
        


  
    
    <li data-nav-id="/quickstart/basic/" title="Always Free" class="">
      <a href="../../quickstart/basic/" class="uk-text-truncate">
        Always Free
      </a>
    </li>
    
  

 

        
      
        
        


  
    
    <li data-nav-id="/quickstart/kubernetes/" title="Kubernetes Deployment" class="">
      <a href="../../quickstart/kubernetes/" class="uk-text-truncate">
        Kubernetes Deployment
      </a>
    </li>
    
  

 

        
      
    </ul>
  
  </li>
  

 

          
            


  
  
  
  <li data-nav-id="/cloud/" title="Cloud Infrastructure" class=" uk-parent">
    <a href="../../cloud/">
      <div class="uk-flex uk-flex-between uk-flex-middle">
        <div class="uk-text-truncate">Cloud Infrastructure</div><span class="uk-flex-none" uk-icon="icon: triangle-right; ratio: 1.5"></span>
      </div>
    </a>
    
    
    <ul class="uk-nav-sub">
      
      
      
      
      
        
        


  
    
    <li data-nav-id="/cloud/prerequisites/" title="Prerequisites" class="">
      <a href="../../cloud/prerequisites/" class="uk-text-truncate">
        Prerequisites
      </a>
    </li>
    
  

 

        
      
        
        


  
    
    <li data-nav-id="/cloud/setup/" title="Setup" class="">
      <a href="../../cloud/setup/" class="uk-text-truncate">
        Setup
      </a>
    </li>
    
  

 

        
      
        
        


  
    
    <li data-nav-id="/cloud/deployment/" title="Deployment" class="">
      <a href="../../cloud/deployment/" class="uk-text-truncate">
        Deployment
      </a>
    </li>
    
  

 

        
      
    </ul>
  
  </li>
  

 

          
            


  
  
  
  <li data-nav-id="/observability/" title="Observability" class=" uk-parent">
    <a href="../../observability/">
      <div class="uk-flex uk-flex-between uk-flex-middle">
        <div class="uk-text-truncate">Observability</div><span class="uk-flex-none" uk-icon="icon: triangle-right; ratio: 1.5"></span>
      </div>
    </a>
    
    
    <ul class="uk-nav-sub">
      
      
        
      
      
      
      
        
        


  
    
    <li data-nav-id="/observability/monitoring/" title="Grafana Monitoring" class="">
      <a href="../../observability/monitoring/" class="uk-text-truncate">
        Grafana Monitoring
      </a>
    </li>
    
  

 

        
      
        
        


  
    
    <li data-nav-id="/observability/istio/" title="Istio Service Mesh" class="">
      <a href="../../observability/istio/" class="uk-text-truncate">
        Istio Service Mesh
      </a>
    </li>
    
  

 

        
      
        
        


  
    
    <li data-nav-id="/observability/canary/" title="Canary Deployment" class="">
      <a href="../../observability/canary/" class="uk-text-truncate">
        Canary Deployment
      </a>
    </li>
    
  

 

        
      
        
        


  
    
    <li data-nav-id="/observability/oci-monitoring/" title="OCI Monitoring" class="">
      <a href="../../observability/oci-monitoring/" class="uk-text-truncate">
        OCI Monitoring
      </a>
    </li>
    
  

 

        
      
        
        


  
    
    <li data-nav-id="/observability/oci-healthcheck/" title="OCI Health Checks" class="">
      <a href="../../observability/oci-healthcheck/" class="uk-text-truncate">
        OCI Health Checks
      </a>
    </li>
    
  

 

        
      
        
        


  
  
  
  <li data-nav-id="/observability/observability-example/" title="Observability Example" class=" uk-parent">
    <a href="../../observability/observability-example/">
      <div class="uk-flex uk-flex-between uk-flex-middle">
        <div class="uk-text-truncate">Observability Example</div><span class="uk-flex-none" uk-icon="icon: triangle-right; ratio: 1.5"></span>
      </div>
    </a>
    
    
    <ul class="uk-nav-sub">
      
      
      
      
      
        
        


  
    
    <li data-nav-id="/observability/observability-example/setup/" title="Setup" class="">
      <a href="../../observability/observability-example/setup/" class="uk-text-truncate">
        Setup
      </a>
    </li>
    
  

 

        
      
        
        


  
    
    <li data-nav-id="/observability/observability-example/usecase/" title="Use Case" class="">
      <a href="../../observability/observability-example/usecase/" class="uk-text-truncate">
        Use Case
      </a>
    </li>
    
  

 

        
      
    </ul>
  
  </li>
  

 

        
      
    </ul>
  
  </li>
  

 

          
            


  
  
  
  <li data-nav-id="/extras/" title="Extras" class=" uk-parent uk-open">
    <a href="../../extras/">
      <div class="uk-flex uk-flex-between uk-flex-middle">
        <div class="uk-text-truncate">Extras</div><span class="uk-flex-none" uk-icon="icon: triangle-right; ratio: 1.5"></span>
      </div>
    </a>
    
    
    <ul class="uk-nav-sub">
      
      
      
      
      
        
        


  
    
    <li data-nav-id="/extras/jenkins/" title="Jenkins" class="uk-active">
      <a href="../../extras/jenkins/" class="uk-text-truncate">
        Jenkins
      </a>
    </li>
    
  

 

        
      
    </ul>
  
  </li>
  

 

          
            


  
  
  
  <li data-nav-id="/cleanup/" title="Cleanup" class="">
    <a href="../../cleanup/">
      <div class="uk-flex uk-flex-between uk-flex-middle">
        <div class="uk-text-truncate">Cleanup</div>
      </div>
    </a>
    
    
  </li>
  

 

          
          <li class="uk-nav-divider"></li>
        </ul>
      </section>
      
      <section>
        <ul class="uk-nav uk-nav-default" uk-nav>
          
          
          <li>
            <a title="More Information" href="../../resources" class="uk-text-truncate">
              <span uk-icon='icon: info; ratio: 1.25'></span>
              <span class="uk-text-middle">More Information</span>
              
            </a>
          </li>
          <li>
            <a title="Acknowledgements" href="../../acknowledgements" class="uk-text-truncate">
              <span uk-icon='icon: users; ratio: 1.25'></span>
              <span class="uk-text-middle">Acknowledgements</span>
              
            </a>
          </li>
          <li>
            <a title="Tags" href="../../tags" class="uk-text-truncate">
              <span uk-icon='icon: tag; ratio: 1.25'></span>
              <span class="uk-text-middle">Tags</span>
              
            </a>
          </li>
          <li>
            <a title="GitHub Source" href="https://github.com/oracle-quickstart/oci-cloudnative" class="uk-text-truncate">
              <span uk-icon='icon: github; ratio: 1.25'></span>
              <span class="uk-text-middle">GitHub Source</span>
              
            </a>
          </li>
          <li>
            <a title="Report Issue" href="https://github.com/oracle-quickstart/oci-cloudnative/issues" class="uk-text-truncate">
              <span uk-icon='icon: warning; ratio: 1.25'></span>
              <span class="uk-text-middle">Report Issue</span>
              
            </a>
          </li>
            <li>
              <a title='Edit this page' href="https://github.com/oracle-quickstart/oci-cloudnative/tree/master/src/docs/content/extras/jenkins.md" target="blank">
                <span uk-icon="pencil"></span>
                <span class="uk-text-middle">Edit this page</span>
              </a>
            </li>
            
          
        </ul>
      </section>
      <section class="uk-margin-top">
        <hr>
        <ul id="rw-settings" class="uk-nav uk-nav-default" uk-nav>
  <li class="uk-grid uk-grid-small uk-flex-middle uk-flex-between uk-flex-nowrap uk-text-nowrap">
  <div class="uk-width-1-4">
    
    <span>Theme</span>
  </div>
  <div class="uk-button-group rw-setting"
    setting="theme"
    target="html, .content-container" ><button class="uk-button uk-button-small uk-button-secondary
    uk-active" toggle="uk-background-default" >
      Light
    </button><button class="uk-button uk-button-small uk-button-secondary
    " toggle="uk-light uk-background-secondary" >
      Dark
    </button></div>
</li>


  <li class="uk-grid uk-grid-small uk-flex-middle uk-flex-between uk-flex-nowrap uk-text-nowrap">
  <div class="uk-width-1-4">
    
    <span>OS</span>
  </div>
  <div class="uk-button-group rw-setting"
    setting="platform"
    target="html" ><button class="uk-button uk-button-small uk-button-secondary
    uk-active" toggle="stg-os-macos" >
      Mac
    </button><button class="uk-button uk-button-small uk-button-secondary
    " toggle="stg-os-linux" >
      Linux
    </button><button class="uk-button uk-button-small uk-button-secondary
    " toggle="stg-os-windows" >
      Windows
    </button></div>
</li>
<li class="uk-grid uk-grid-small uk-flex-middle uk-flex-between uk-flex-nowrap uk-text-nowrap">
  <div class="uk-width-1-4">
    
    <span>Helm</span>
  </div>
  <div class="uk-button-group rw-setting"
    setting="helm"
    target="html" ><button class="uk-button uk-button-small uk-button-secondary
    uk-active" toggle="stg-helm-3" >
      3.x
    </button><button class="uk-button uk-button-small uk-button-secondary
    " toggle="stg-helm-2" >
      2.x
    </button></div>
</li>
</ul>



      </section>
      <section class="uk-text-small uk-text-lighter uk-margin-top">
        <hr>
        <div class="uk-text-muted">
  <div class="uk-margin-small">
    Made with <span uk-icon="icon: heart; ratio: 0.75"></span> by Oracle Developers
  </div>
  Copyright © 2021 Oracle and/or its affiliates. All rights reserved.
</div>
      </section>
    </div>
  </aside>
  
  <div class="uk-width-1-1 uk-width-1-3@s uk-width-1-4@m uk-width-1-5@l uk-width-1-6@xl uk-visible@s"></div>



    <div class="content-container uk-width-expand">
      <div class="uk-position-relative">
        <div id="content" class="uk-grid uk-container-xlarge" uk-grid>
          

<div class="uk-flex-last uk-width-1-4 uk-visible@l">
  <aside id="toc-nav" uk-sticky="offset: 40">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#accessing-jenkins">Accessing Jenkins</a></li>
        <li><a href="#a-simple-build-job">A simple build job</a></li>
      </ul>
    </li>
  </ul>
</nav>
    <hr/>
    
  <div>
    
    <a class="uk-label" href="../../tags/ci/cd">
      <span uk-icon="tag"></span>
      CI/CD
    </a>
    
    <a class="uk-label" href="../../tags/automation">
      <span uk-icon="tag"></span>
      Automation
    </a>
    
    <a class="uk-label" href="../../tags/jenkins">
      <span uk-icon="tag"></span>
      Jenkins
    </a>
    
    <a class="uk-label" href="../../tags/patching">
      <span uk-icon="tag"></span>
      Patching
    </a>
    
  </div>

  </aside>
</div>


          <main class="uk-width-expand">
            <header>
  
  
    <ul class="uk-breadcrumb uk-margin-top uk-text-small">
    
  
  <li><a href='../../'>Home</a></li> <li><a href='../../extras/'>Extras</a></li> <li>Jenkins</li>
    </ul></header>



            <h1 class="rw-accent">Jenkins</h1>
              
  <h2 id="introduction">Introduction</h2>
<p>In this section we will demonstrate how to run leverage your kubernetes cluster for CI/CD tasks
using <a href="https://www.jenkins.io/">Jenkins</a>.</p>
<div uk-alert class="uk-alert-danger uk-grid uk-grid-collapse uk-flex-nowrap "><span uk-icon="icon: warning; ratio: 1.2" class="uk-margin-small-right uk-flex-none"></span><div class="uk-width-expand">
<p>Note that Jenkins is <strong>OPTIONAL</strong> and disabled by default. To enable it, see <a href="../../cloud/setup/">setup</a> section.</p>
</div></div>
<p>When enabled, a Jenkins server is installed on the kubernetes cluster and is setup to utilize the <a href="https://plugins.jenkins.io/kubernetes">Jenkins Kubernetes plugin</a>.
The plugin enables Jenkins to create worker nodes on demand as pods on the kubernetes cluster to run jobs,
then terminates the pods when the job is completed. This also lets the system run any arbitrary job since all
job related dependencies (say, building an application that requires a specific version of <code>java</code>) are contained
within the definition of a docker container that executes the step.</p>
<p>More information on the kubernetes plugin and the extensions it provides for the Jenkins pipeline are described <a href="https://github.com/jenkinsci/kubernetes-plugin#pipeline-support">here</a></p>
<h2 id="accessing-jenkins">Accessing Jenkins</h2>
<p>Once installation is completed, you can access the Jenkins server using the ingress controller (if one was configured), or using a port forward.</p>
<p>To use the ingress, first find the external IP for the Load Balancer that was created :</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">kubectl get svc mushop-utils-ingress-nginx-controller <span class="se">\
</span><span class="se"></span>  --namespace mushop-utilities
</code></pre></div><p>Ensure that Jenkins is up and ready</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">kubectl get deployment -n mushop-utilities mushop-utils-jenkins
</code></pre></div><p>Once Jenkins is ready, navigate to http://<external-ip>/jenkins</p>
<p>The default username is <code>admin</code>. The default password is generated and stored as a kubernetes secret.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">kubectl get secret -n mushop-utilities mushop-utils-jenkins <span class="se">\
</span><span class="se"></span>-o <span class="nv">jsonpath</span><span class="o">=</span><span class="s2">&#34;{.data.jenkins-admin-password}&#34;</span> <span class="p">|</span> base64 --decode <span class="p">;</span> <span class="nb">echo</span>
</code></pre></div><h2 id="a-simple-build-job">A simple build job</h2>
<p>Once logged in, we can test a simple pipeline by creating a multi-branch pipeline based on the repository</p>
<p><a href="https://github.com/jeevanjoseph/jenkins-k8s-pipeline.git">https://github.com/jeevanjoseph/jenkins-k8s-pipeline.git</a></p>
<p>The repository contains a <code>Jenkinsfile</code> that describes how it should be built and this is the only information
that Jenkins requires in order to run the build. In this example, the build defines its execution environment to
include a terraform container to run terraform code, and a docker container to build docker images.</p>


            </main>
          </div> 
        </div> 
      </div> 
    </div> 
    
<footer class="uk-position-fixed uk-position-bottom">
  <div class="uk-grid">
    
    
    <div class="uk-width-1-1 uk-width-1-3@s uk-width-1-4@m uk-width-1-5@l uk-width-1-6@xl uk-visible@s"></div>
    <div class="uk-width-expand">
      <div>
      
      
      
      


  
    
    
  

  
  
  
    
  

  
  
    


  
    
      
      
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  


  


  
    


  
    
  

  
  
  

  
  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  


  


  
    


  
    
  

  
  
  
    
  

  
  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  
    


  
    
  

  
  
  

  
  


  
    


  
    
  

  
  
  

  
  


  


  


  
    


  
    
    
  

  
  
  

  
  
    


  
    
    
  

  
  
  

  
  


  


  
    


  
    
      
      
    
  

  
  
  

  
  


  


        <div class="uk-flex uk-flex-between uk-margin-top">
          <a href="../../extras/" title="Extras" class="rw-page-prev uk-flex-first uk-flex uk-flex-left uk-flex-middle uk-text-truncate">
            <span uk-icon="icon: chevron-left; ratio: 2.5" class="uk-margin-small-right uk-flex-none"></span>
            <label class="uk-visible@m">Extras</label>
          </a><span></span>
          <a href="../../cleanup/" title="Cleanup" class="rw-page-next uk-flex-last uk-flex uk-flex-right uk-flex-middle uk-flex-last uk-text-truncate">
            <label class="uk-visible@m">Cleanup</label>
            <span uk-icon="icon: chevron-right; ratio: 2.5" class="uk-margin-small-left uk-flex-none"></span>
          </a></div>
      </div>
    </div>
  </div>
</footer>


    <script type="text/javascript">
  (function(w, s) {
    Object.assign(s, {
      BaseURL: '',
      RelURL: '\/',
      cssConfig: {
        table: 'uk-table uk-table-small uk-table-striped',
        '#TableOfContents > ul': 'uk-nav uk-nav-default uk-nav-parent-icon',
        '#TableOfContents > ul ul': 'uk-nav-sub',
      },
      uikit: {
        '#TableOfContents > ul': ['scrollspyNav', { closest: 'li', offset: 10 }],
        
      }
    });
  })(window, window.Site = window.Site || {});
</script>

<script src="../../js/vendor.min.635fbc23a7f80d0fcee6728a32611ece1edb8302f818f627011b23dc8de8c6d4.js" ></script><script src="../../js/extras.min.a9bf7ac5b6f2ffe1f85649105cb5f3065ab48c7ce45fa8efd51bce9622933221.js"  async></script><script src="../../js/site.min.5a6d5008222f09cfe0ff51eb81d80c68d7d2fa56fa9ea1dd327f239f4c5d044d.js"  async></script>
  </body>
</html>